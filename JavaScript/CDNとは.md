*目次*
* [CDNとは](#CDNとは)
* [必要になった背景](#必要になった背景)
* [デメリット](#デメリット)
* [セキュリティ](#セキュリティ)

### CDNとは

コンテンツを配信する仕組みの一種。Content Delivery Networkの略。

複数の地域に配置されたサーバーを利用し、各ユーザーに最も近いサーバーからデータを取得することができる。

これは、例えるなら車のトラブルがあった時に来てくれるJAFのサービスに似ている。  
JAFも依頼のあった場所から近い場所に住んでいるJAFスタッフの人が来てくれる。

これと同じように、CDNもユーザーからファイルの要求があったら、そのユーザーの場所に一番近いサーバーを通じてファイルを届ける。  
そのため、**CDNを使うと高速でコンテンツを配信することができる。**

### 必要になった背景

CDNが必要になった背景の一つに、海外からのアクセスがあった際の表示速度を速めることがあげられる。

海外から日本のWebサービスにアクセスする場合、ページの表示までに時間がかかってしまうことがある。

これはオリジンサーバ(それぞれのWebサイトを管理しているサーバ)との物理的な距離が遠ければ遠いほど、webページの表示が遅くなるためだ。  
このため海外のユーザーをターゲットとしているWebサービスなどでは、現地でのコンテンツ表示速度の向上が課題となっていた。

### デメリット

便利な反面、デメリットも存在する。

* **CDN提供元の影響を受ける**

CDNを提供しているサービスはいくつかあるが、そのCDNの提供元が障害を起こすことがあり、それが原因でアプリなどのサービスが動かなくなることがある。

そのため、CDNを利用する場合はこういった提供元の影響も頭に入れておく必要がある。

* **サービス終了のリスク**

CDNを提供しているサービスの中には、サービスが終了してしまったものもある。

近年だと、2019年にサービス終了した「RawGit」がある。

### セキュリティ

CDNが悪意の第三者により書き換えられてしまう可能性もある。

そこで、SRIと呼ばれるセキュリティチェックの仕組みが用意されている。

**サブリソース完全性(SRI)**

JavaScriptのライブラリを取り込む<script>要素には、サブリソース完全性 **(SRI)** と呼ばれる検証機能が備わっている。

SRIとはJavaScriptのライブラリが改ざんされていないかどうかをハッシュ関数を用いて検証する機能のこと。

**SRIの仕組み**

もし第三者によってライブラリが改ざんされることがあれば、ライブラリのハッシュ値が変化してしまうため、危険なライブラリを読み込む前に読み込みエラーとなる。







