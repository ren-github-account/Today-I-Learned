part4では、`floatプロパティ`と`clearプロパティ`について見ていく。

`floatプロパティ`はサイドバーを作る時にも使えるので、ここの理解は結構大切。

*目次*
* [floatプロパティの使い方](#floatプロパティの使い方)
* [floatプロパティの特徴](#floatプロパティの特徴)
* [新しくブロックフォーマットコンテキストを確立する](#新しくブロックフォーマットコンテキストを確立する)
* [floatプロパティの特徴まとめ](#floatプロパティの特徴まとめ)
* [floatの正確な定義](#floatの正確な定義)

### floatプロパティの使い方

`floatプロパティ`を使うと、要素の生成するボックスを「右」か「左」に移動させることができる。

それでは実際の使い方を、コードを書きながら順を追って見ていく。

まず、以下のコードを書いたとする。

```
<body>
<p class="one"></p>
</body>

/*CSS*/
p.one{
 background:#a0d8ef; /*そらいろ*/
 width:200px;
 height:150px;
 }
```

上記のコードを実行のすると「そら色」の四角形が「左側」に描画される。

これは要素の生成するボックスは、通常ウィンドウの左上の角から描画されるためだ。

次に上記のCSS部分を以下のよう変更して、`float:right;`を追加してみる。

```
/*CSS*/
p.one{
 background:#a0d8ef; /*そらいろ*/
 width:200px;
 height:150px;
 float:right;
}
```

すると、見事、そら色の四角形を「右側」に移動できた。

このように`floatプロパティ`を使うとボックスを「右」「左」に移動させることができる。

### floatプロパティの特徴

#### 新しくブロックフォーマットコンテキストを確立する

part3でも少し触れたけど`floatプロパティ`にも「新しくブロックフォーマットコンテキストを確立する」という特徴がある。

「新しくブロックフォーマットコンテキストを確立する」とどうなるかというと、**マージンの相殺が起きなくなる。**(詳しくはpart3を参照)

この **「マージンの相殺が起きない」** ことの具体例を、`floatプロパティ`使った場合で見ていく。

例えば、以下のコードを書いたとする。

```
<body>
<p class="blue_float"></p>
<!--コメントで非表示に<p class="red"</p>-->
</body>

p.blue_float{
 background:#a0d8ef;
 width:200px;
 height:150px;
 float:left;
}

p.red{
 background:#ec6d71;
 width:200px;
 height:150px;
}
```

上記のコードを実行すると、青い四角形の上側のマージンは、body要素のマージン`8px`とp要素のマージン`16px`を足した合計`24px`となる。

つまり、`floatプロパティ`を適用した青い四角形では「マージンの相殺が起きていない」ことが確認できる。

実際にデベロッパーツールを開いて、htmlコードの該当要素の上にカーソルを持ってくると画面上でのマージンを確認することができる。

今度は、コードを以下のように変更して、`float`を適用していない赤い四角形を表示させてみる。

```
<body>
<!--<p class="blue_float"></p>-->
<p class="red"</p>
</body>
```

すると、今度はbody要素のマージン`8px`が消えて、p要素のマージン`16px`のみが適用されている。つまり**マージンの相殺**が起きていることが確認できる。

#### floatプロパティの特徴まとめ

・floatプロパティを設定すると、その要素は「新しくブロックフォーマットコンテキストを確立」し、他の要素とのマージンの相殺が起きなくなる。

### floatの正確な定義

最初に、`floatプロパティ`は要素の生成するボックスを「右」か「左」に移動させることができると書いた。

だけど、実はこの説明は正確じゃない。

より正確には、`floatプロパティ`を設定すると、その他のコンテンツが`floatプロパティ`を設定した要素のボックスの側面(つまり右側か左側)に**回り込む**ようにして表示されるようになる。

obsidianのメモを参照

#### テキストは回り込むように動くのにボックスどうしだと重なるの理由











