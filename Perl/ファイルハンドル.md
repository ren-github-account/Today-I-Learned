*目次*
* [ファイルハンドルとは](#ファイルハンドルとは)
* [デフォルトのファイルハンドル](#デフォルトのファイルハンドル)
* [open関数とclose関数](#open関数とclose関数)
### ファイルハンドルとは

コネクションを区別するため**コネクションに対して付ける名前のこと。**

**コネクションとは**、指定したファイルとPerlプログラムの間でやり取りを行うための **通信経路(コネクション)** のこと。

Perlのプログラムでファイルの操作を行う場合、このコネクションを用意する必要がある。

**ポイント**

* open関数でコネクションを用意した後、ファイルに対する**操作が終わったらコネクションを閉じる**のを忘れずに。
* ファイルハンドルはすべて大文字で付けるのが慣習。

### デフォルトのファイルハンドル

任意で付けるファイルハンドルとは別にデフォルトで用意されているファイルハンドルもある。

||意味|
|-|-|
|`STDIN`|標準入力と呼ばれる。キーボードからの入力などに使用。|
|`STDOUT`|標準出力と呼ばれる。画面への出力などに使用。|
|`STDERR`|標準エラーと呼ばれる。エラーの出力に使用。|

### printは省略されている

`print関数`を省略せずに記述すると以下になる。

```
print STDOUT "書き出したいデータ";
```

`STDOUT`は**画面への出力**を意味するファイルハンドルであり、よく使うprintの処理は`STDOUT`が省略された形となる。

### printでデータを書き込む
以下のように書く。

```
print ファイルハンドル "書き込みたいデータ";
```

**具体例**

```
open(DATAFILE, ">> data.txt");

print DATAFILE "書き込みたいデータ";

close(DATAFILE);
```




### open関数とclose関数

**基本**

```
open(ファイルハンドル名, "モード", "ファイル名");

close(ファイルハンドル名);
```
open関数はファイルを開きファイルハンドルを割り当てることができる。 

さらには、モードを指定することでファイルに対して行う操作を指定することができる。

ファイルにたいする操作が終わったら、close関数を使ってコネクションを閉じる。

以下に代表的なモードをピックアップしてみた。

||意味|
|-|-|
|`<`|ファイルを読み込む。例:`open(ファイルハンドル, "< ファイル名");`(基本の時と書き方が微妙に違うけど、こっちでもok)|
|`>`|ファイルの中身を**上書き**。ファイルが存在しない場合は新規作成もしてくれる。例:`open(ファイルハンドル, "> ファイル名");`(覚え方:ファイル名よりデカい(大なり)なので上書き)|
|`>>`|ファイルの中身を変更せずに**追加で書き込む。**|

**具体例**

```
#!C:\xampp\perl\bin\perl.exe
print "Content-type: text/html;charset=utf-8\n\n";
open(FILE,">> abc.txt");

print FILE "\nテストかきこ";

close(FILE);
```
